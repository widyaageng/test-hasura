{job="hasura"} |~ `http-log` | json url="detail.http_info.url", status="detail.http_info.status", level="level", user="operation[\"user_vars\"][\"x-hasura-role\"]", exec_time="operation.query_execution_time", read_time="operation.request_read_time", response_size="operation.response_size" |  line_format "level: {{.level}}, url: {{.url}},  status:{{.status}}, user:{{.user}}, execution time: {{.exec_time}}, read time {{.read_time}}, response size (byte) {{.response_size}}"
{job="hasura", filename=~".*hasura.*graphql-engine.*.log"} |~ `http-log` | json url="detail.http_info.url", status="detail.http_info.status", level="level", user="operation[\"user_vars\"][\"x-hasura-role\"]", exec_time="operation.query_execution_time", read_time="operation.request_read_time", response_size="operation.response_size" |  line_format "level: {{.level}}, url: {{.url}},  status:{{.status}}, user:{{.user}}, execution time: {{.exec_time}}, read time {{.read_time}}, response size (byte) {{.response_size}}"



{job="hasura", filename=~".*containers.*hasura.*graphql-engine.*.log"} |~ `http-log` |  json url="log" |  line_format "{{.url}}" | json url="detail.http_info.url", status="detail.http_info.status", level="level", user="detail.operation[\"user_vars\"][\"x-hasura-role\"]", exec_time="detail.operation.query_execution_time", read_time="detail.operation.request_read_time", response_size="detail.operation.response_size" | line_format "level: {{.level}}, url: {{.url}}, status: {{.status}}, user: {{.user}}, execution time: {{.exec_time}}, read time: {{.read_time}}, response size (byte): {{.response_size}}"

sum by (url) (rate({job="hasura", filename=~".*containers.*hasura.*graphql-engine.*.log"} |~ `http-log` |  json varlog="log" |  line_format "{{.varlog}}" | json url="detail.http_info.url", status="detail.http_info.status", level="level", user="detail.operation[\"user_vars\"][\"x-hasura-role\"]", exec_time="detail.operation.query_execution_time", read_time="detail.operation.request_read_time", response_size="detail.operation.response_size" | label_format level="{{.level}}", url="{{.url}}", status="{{.status}}", user="{{.user}}", executiontime="{{.exec_time}}", readtime="{{.read_time}}", responsesize_byte="{{.response_size}}" | unpack [$__interval]))

sum by (url) (rate({job="hasura", filename=~".*containers.*hasura.*graphql-engine.*.log"} |~ `http-log` |  json varlog="log" |  line_format "{{.varlog}}" | json url="detail.http_info.url", status="detail.http_info.status", level="level", user="detail.operation[\"user_vars\"][\"x-hasura-role\"]", exec_time="detail.operation.query_execution_time", read_time="detail.operation.request_read_time", response_size="detail.operation.response_size" | label_format level="{{.level}}", url="{{.url}}", status="{{.status}}", user="{{.user}}", executiontime="{{.exec_time}}", readtime="{{.read_time}}", responsesize_byte="{{.response_size}}" | unpack [$__range]))